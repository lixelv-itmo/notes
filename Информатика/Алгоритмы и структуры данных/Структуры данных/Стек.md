## Определение
**Стек** (от англ. *stack* - стопка) - это абстрактный тип данных (АТД), представляющий собой упорядоченную коллекцию элементов, в которой добавление новых элементов и удаление существующих элементов происходит с одного конца, называемого **вершиной стека (top)**. Можно грубо назвать разновидностью [массива](Массив.md) (так как это коллекция элементов).

Стек реализует принцип **LIFO (Last In, First Out)** - «последним пришёл, первым ушёл». Это означает, что элемент, добавленный в стек последним, будет первым извлечён из него. Представьте себе стопку тарелок: чтобы взять тарелку снизу, нужно сначала снять все тарелки сверху.

---
## Сложность и визуализация
--- start-multi-column: ExampleRegion1  
```column-settings  
number of columns: 2  
Border: false
Shadow: false
Column size: [60%, 39%]
```

-   **Вставка** $O(1)$
-   **Удаление:** $O(1)$
-   **Чтение вершины:** $O(1)$
-   **Проверка на пустоту:** $O(1)$
-   **Затраты памяти:** $O(n)$

--- end-column ---

![](stack.gif)

--- end-multi-column

---
## Вариации реализации
### Массив
При реализации стека на массиве мы используем вектор, у которого добавляем и удаляем элементы с конца. Это оптимальная реализация, так как операции `push_back()` и `pop_back()` выполняются за $O(1)$ (амортизированное время). Массив хорошо подходит для стека, поскольку все операции происходят с одного конца структуры данных. Тем не менее, альтернативой может служить односвязный список.

### [Односвязный список](Связанный%20список.md)
В односвязном списке мы храним указатель на вершину стека (`top`). При добавлении элемента (операция `push`) создаём новый узел, который становится новой вершиной и указывает на предыдущую вершину. При удалении элемента (операция `pop`) перемещаем указатель `top` на следующий элемент. Обе операции выполняются за $O(1)$ и не требуют дополнительных затрат памяти на неиспользуемые ячейки, в отличие от вектора.

---
## Реализация на C++
```cpp
include <vector>
include <stdexcept>

template <typename T>
class Stack {
private:
    std::vector<T> data;

public:
    void push(const T& value) {
        data.push_back(value);
    }
	
    T pop() {
        T top_element = data.back();
        data.pop_back();
        return top_element;
    }
	
    const T& peek() const {
        return data.back();
    }
	
    bool empty() const {
        return data.empty();
    }
	
    size_t size() const {
        return data.size();
    }
	
    void clear() {
        data.clear();
    }
};
```

---
## [Wiki](https://ru.wikipedia.org/wiki/%D0%A1%D1%82%D0%B5%D0%BA) [DSA](https://www.w3schools.com/dsa/dsa_data_stacks.php)